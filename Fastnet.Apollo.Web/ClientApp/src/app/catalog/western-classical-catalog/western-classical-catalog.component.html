<div class="component-container"  (swipeleft)="onSwipeLeft()" (swiperight)="onSwipeRight()">
   <div *ngIf="catalogView === CatalogView.DefaultView">
      <artists-view (artistSelected)="onArtistClick($event)"></artists-view>
   </div>
   <div *ngIf="catalogView === CatalogView.SearchResults">
      <div class="composer-list" *ngIf="composers.length > 0">
         <div class="composer" *ngFor="let composer of composers">
            <ng-container *ngIf="composer.compositions.length > 0">
               <div class="identity" (click)="toggleShowWorks(composer)">
                  <div class="image-container">
                     <img class="image" *ngIf="composer.imageUrl" [src]="composer.imageUrl" />
                  </div>
                  <div class="details">
                     <div class="name">
                        <highlighted-text [searchText]="searchText" [text]="composer.name" [prefixMode]="prefixMode"></highlighted-text>
                     </div>
                     <div class="">{{getComposerDetails(composer)}}</div>
                  </div>
               </div>
               <div *ngIf="composer.showWorks" class="compositions">
                  <div class="composition-container" *ngFor="let composition of composer.compositions">
                     <div class="composition">
                        <ng-container>
                           <div class="composition-name" (tap)="onTapComposition(composition)">
                              <i class="fa " [ngClass]="{'fa-chevron-circle-down': !composition.showPerformances, 'fa-chevron-circle-up': composition.showPerformances}"></i>
                              <highlighted-text [searchText]="searchText" [text]="composition.name" [prefixMode]="prefixMode"></highlighted-text>
                           </div>
                        </ng-container>
                        <div class="performances" *ngIf="composition.showPerformances">
                           <div class="performance-container" *ngFor="let performance of composition.performances">
                              <div class="name-row">
                                 <div class="image-container" (click)="toggleShowMovements($event, performance)">
                                    <img class="image" *ngIf="performance.albumCoverArt" [ngClass]="{'small': isTouchDevice()}" [src]="performance.albumCoverArt" />
                                 </div>
                                 <div class="performance-origin" [ngClass]="{'is-highlit': performance.isHighLit}" (tap)="onTapPerformance(performance)" (contextmenu)="onRightClick($event, composition, performance)">
                                    <highlighted-text class="performers" [searchText]="searchText" [text]="getPerformanceSource(performance)" [prefixMode]="prefixMode"></highlighted-text>
                                    <div class="duration">{{performance.formattedDuration}}</div>
                                    <div class="command-panel" (mouseenter)="onPerformanceMouse(performance, true)" (mouseleave)="onPerformanceMouse(performance, false)">
                                       <ng-container *ngIf="!isTouchDevice()">
                                          <i title="play now" class="fa fa-play" (click)="onPlayPerformance(performance)"></i>
                                          <i title="add to play list" class="fa fa-plus-square" (click)="onQueuePerformance(performance)"></i>
                                       </ng-container>
                                    </div>
                                    <div *ngIf="performance.movements.length > 1">{{performance.movements.length}} movements</div>
                                    <div *ngIf="performance.movements.length === 1">{{performance.movements.length}} movement</div>
                                 </div>
                              </div>
                              <track-list *ngIf="performance.showMovements" [tracks]="performance.movements" [highlightText]="searchText" [prefixMode]="prefixMode"></track-list>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </ng-container>
         </div>
      </div>
      <div *ngIf="searchFoundNothing === true">
         <div>Search found nothing</div>
      </div>
      <command-panel></command-panel>
   </div>
   <popup-message></popup-message>
</div>
<!--<wc-tag-editor></wc-tag-editor>-->
